interface EmojiCategory {
	name: string;
	emojis: string[];
}

export const emojiCategories: EmojiCategory[] = [
	{
		name: "よく使う",
		emojis: ["👋", "📚", "💻", "🎯", "✨", "🚀", "📝", "🔍", "⚡️", "🎨"],
	},
	{
		name: "顔・感情",
		emojis: [
			"😀",
			"😃",
			"😄",
			"😁",
			"😅",
			"😂",
			"🤣",
			"😊",
			"😇",
			"🙂",
			"🙃",
			"😉",
			"😌",
			"😍",
			"🥰",
			"😘",
			"😗",
			"😙",
			"😚",
			"😋",
			"😛",
			"😝",
			"😜",
			"🤪",
			"🤨",
			"🧐",
			"🤓",
			"😎",
			"🤩",
			"🥳",
		],
	},
	{
		name: "自然",
		emojis: [
			"🌸",
			"🌺",
			"🌹",
			"🌷",
			"🌼",
			"🌻",
			"🌞",
			"🌝",
			"🌛",
			"🌜",
			"⭐",
			"🌟",
			"✨",
			"💫",
			"☀️",
			"🌤",
			"⛅",
			"🌥",
			"☁️",
			"🌦",
			"🌧",
			"⛈",
			"🌩",
			"🌨",
			"❄️",
			"🌬",
			"💨",
			"🌪",
			"🌫",
			"🌊",
		],
	},
	{
		name: "食べ物",
		emojis: [
			"🍎",
			"🍐",
			"🍊",
			"🍋",
			"🍌",
			"🍉",
			"🍇",
			"🍓",
			"🫐",
			"🍈",
			"🍒",
			"🍑",
			"🥭",
			"🍍",
			"🥥",
			"🥝",
			"🍅",
			"🍆",
			"🥑",
			"🥦",
			"🥬",
			"🥒",
			"🌶",
			"🫑",
			"🥕",
			"🧄",
			"🧅",
			"🥔",
			"🍠",
			"🥐",
		],
	},
	{
		name: "活動",
		emojis: [
			"💻",
			"📱",
			"💡",
			"🎮",
			"🎨",
			"🎭",
			"🎪",
			"🎢",
			"🎡",
			"🎯",
			"🎲",
			"🎳",
			"🎮",
			"🎰",
			"🎨",
			"🖼",
			"🎭",
			"🎪",
			"🎢",
			"🎡",
			"🎯",
			"🎲",
			"🎳",
			"🎮",
			"🎰",
			"🚗",
			"✈️",
			"🚀",
			"🛸",
			"🎉",
		],
	},
	{
		name: "オブジェクト",
		emojis: [
			"📚",
			"📖",
			"📝",
			"✏️",
			"📌",
			"📍",
			"📎",
			"🔍",
			"🔎",
			"🔐",
			"🔑",
			"🔨",
			"🪛",
			"🔧",
			"🪜",
			"🧰",
			"🎁",
			"🎈",
			"🎀",
			"🎊",
			"🎉",
			"🎭",
			"🎪",
			"🎢",
			"🎡",
			"🎯",
			"🎲",
			"🎳",
			"🎮",
			"🎰",
		],
	},
];

export function searchEmojis(searchTerm: string): string[] {
	if (!searchTerm) return [];

	const normalizedSearch = searchTerm.toLowerCase();
	const results = new Set<string>();

	for (const category of emojiCategories) {
		for (const emoji of category.emojis) {
			if (results.size >= 30) return Array.from(results); // 検索結果は最大30個まで

			// 絵文字の名前や説明を含む検索も可能にするため、
			// 将来的にはEmojiDataのような形で絵文字の詳細情報を持つことを想定
			if (emoji.includes(normalizedSearch)) {
				results.add(emoji);
			}
		}
	}

	return Array.from(results);
}
